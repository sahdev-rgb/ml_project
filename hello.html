<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Predictor Pro - 2026</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 350px; text-align: center; }
        h2 { color: #333; margin-bottom: 20px; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        button { width: 100%; padding: 12px; background-color: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; margin-top: 10px; }
        button:hover { background-color: #0056b3; }
        #result { margin-top: 25px; font-size: 1.2rem; font-weight: bold; color: #28a745; min-height: 30px; }
        .error { color: #dc3545 !important; }
    </style>
</head>
<body>

<div class="card">
    <h2>Salary Predictor</h2>
    
    <!-- ‡§á‡§®‡§™‡•Å‡§ü ‡§´‡•Ä‡§≤‡•ç‡§°‡•ç‡§∏ ‡§Ü‡§™‡§ï‡•á 5 ‡§´‡•Ä‡§ö‡§∞‡•ç‡§∏ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ -->
    <input type="number" id="age" placeholder="‡§â‡§Æ‡•ç‡§∞ (Age) ‡§°‡§æ‡§≤‡•á‡§Ç" step="1">
    
    <select id="gender">
        <option value="" disabled selected>Gender ‡§ö‡•Å‡§®‡•á‡§Ç</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
    </select>

    <input type="text" id="education" placeholder="Education (e.g. Bachelor's)">
    
    <input type="text" id="job_title" placeholder="Job Title (e.g. Data Scientist)">
    
    <input type="number" id="experience" placeholder="‡§Ö‡§®‡•Å‡§≠‡§µ (Years of Experience)" step="0.1">

    <button onclick="getPrediction()">Predict Salary</button>

    <div id="result"></div>
</div>

<script>
    async function getPrediction() {
        const resultDiv = document.getElementById('result');
        resultDiv.classList.remove('error');
        
        // 1. ‡§°‡•á‡§ü‡§æ ‡§á‡§ï‡§ü‡•ç‡§†‡§æ ‡§ï‡§∞‡•á‡§Ç
        const age = document.getElementById('age').value;
        const gender = document.getElementById('gender').value;
        const education = document.getElementById('education').value;
        const job_title = document.getElementById('job_title').value;
        const experience = document.getElementById('experience').value;

        // 2. ‡§µ‡•à‡§≤‡§ø‡§°‡•á‡§∂‡§® ‡§ö‡•á‡§ï
        if (!age || !gender || !education || !job_title || !experience) {
            resultDiv.classList.add('error');
            resultDiv.innerText = "‡§∏‡§≠‡•Ä ‡§´‡•Ä‡§≤‡•ç‡§°‡•ç‡§∏ ‡§≠‡§∞‡•á‡§Ç!";
            return;
        }

        const payload = {
            age: parseFloat(age),
            gender: gender,
            education: education,
            job_title: job_title,
            experience: parseFloat(experience)
        };

        resultDiv.innerText = "Processing...";

        try {
            // üöÄ ‡§∏‡§π‡•Ä URL http:// ‡§ï‡•á ‡§∏‡§æ‡§• (CORS ‡§è‡§∞‡§∞ ‡§´‡§ø‡§ï‡•ç‡§∏)
            const response = await fetch("http://127.0.0.1:8000/predict?", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                throw new Error('Server connectivity issue');
            }

            const data = await response.json();
            
            // 3. ‡§∞‡§ø‡§ú‡§≤‡•ç‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
            if (data.salary) {
                resultDiv.innerText = "Estimated Salary: ‚Çπ" + data.salary.toLocaleString();
            } else if (data.predicted_salary) {
                resultDiv.innerText = "Estimated Salary: ‚Çπ" + data.predicted_salary.toLocaleString();
            } else if (data.error) {
                resultDiv.classList.add('error');
                resultDiv.innerText = "Error: " + data.error;
            }
        } catch (error) {
            console.error('Fetch Error:', error);
            resultDiv.classList.add('error');
            resultDiv.innerText = "Server Offline! (Check Python)";
        }
    }
</script>

</body>
</html>
